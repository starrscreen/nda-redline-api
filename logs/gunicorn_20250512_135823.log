[2025-05-12 13:58:25 -0400] [40898] [INFO] Starting gunicorn 23.0.0
[2025-05-12 13:58:25 -0400] [40898] [INFO] Listening at: http://0.0.0.0:8000 (40898)
[2025-05-12 13:58:25 -0400] [40898] [INFO] Using worker: sync
[2025-05-12 13:58:25 -0400] [40900] [INFO] Booting worker with pid: 40900
[2025-05-12 13:58:25 -0400] [40898] [INFO] Handling signal: winch
2025-05-12 13:58:26,066 - application - INFO - Using OpenAI client v1.x (version unknown)
2025-05-12 13:58:46,268 - application - INFO - Read file content, size: 34147 bytes
2025-05-12 13:58:46,294 - application - INFO - Loaded NDA Checklist content
2025-05-12 13:58:46,295 - application - INFO - Sending prompt to OpenAI for NDA analysis (JSON mode requested)
2025-05-12 13:58:46,386 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-c9de301d-1d6f-4a12-990a-b79498d7a8f2', 'json_data': {'messages': [{'role': 'system', 'content': "You are a legal document reviewer specializing in NDAs. Your task is to analyze legal documents and suggest improvements based on the client's preferred language. Format your output as a JSON array of suggested changes."}, {'role': 'user', 'content': '\n        EXACT TEXT MATCHING NDA REVIEW\n\n        This is a specialized NDA review task where EXACT text matching is CRITICAL. The document processing system can ONLY find and replace text that matches EXACTLY character-for-character.\n\n        NDA CHECKLIST:\n        NDA Checklist\n1. We can share Evaluation Material with financing sources\n2. Evaluation Material does not include information given to us by a source not known by us to be bound by confidentiality\n3. Return or destroy at our option Materials only at written request (not if we decide not to pursue)\n4. We will give confirmation of destruction of materials only if so requested in writing\n5. Not responsible for errors in Evaluation Material except as agreed to in definitive documentation / agreement of a transaction\n6. 2 Year Term, with full expiration of all obligations thereafter\n\nPrevailing Party Litigation Language: In the event of litigation relating to this Agreement in a court of competent\njurisdiction, the non-prevailing party shall reimburse the prevailing party its reasonable legal fees incurred in\nconnection with such litigation.\n\nEmployee Non-Solicit Language: Notwithstanding the foregoing, general solicitations for employment (including\nthe use of employment agencies or search firms not directed to target the Company or any of the Company’s\nemployees) conducted by you or on your behalf and the hiring of individuals who respond to such general\nsolicitations for employment or contact you or your Representatives on his or her own volition, shall not constitute a\nviolation of this agreement.\n\nNon-Compete Language: The Company recognizes that you or your Representatives may be or may become\nengaged in the research, development, production, marketing and sale of services or products similar to the\nCompany’s and that these services or products may be competitive with those of the Company and may display the\nsame or similar functionality. Therefore, nothing in this Agreement shall be construed to prevent you, your officers,\nyour employees or your Representatives from engaging independently in such activities now or in the future.\nOR\nIt is expressly understood and agreed that nothing herein shall be deemed to limit or prevent in any manner the\ninvestment or consideration for investment by Long Point Capital, Inc. or any of its affiliates in any entity (“Other\nEntity”) which is engaged in the same or related fields of business as that engaged (or proposed to be engaged) in by\nthe Company, regardless of whether Long Point Capital, Inc. makes an investment in the Company, and that the\nentry into a transaction between Long Point, Inc. and any Other Entity, now or in the future, will not violate any\nnon-circumvention or other similar terms in this agreement, per se; provided that, for the avoidance of doubt, all the\nobligations of Long Point, Inc. and Your Representatives shall continue as provided in this agreement.\nOR\nThe Company further recognizes that Buyer, as an investment firm, considers, makes, and has made investments in a\nvariety of markets and that Buyer\'s participation in the evaluation of the Company for an investment may enhance\nBuyer\'s understanding of the markets in which the Company may now, or in the future, compete and that such\nfurther understanding will not, in and of itself, be considered a violation of this agreement.\n\nRetention of Evaluation Material Language: Notwithstanding the foregoing, you and your Representatives shall\n(i) be permitted to retain copies of the Evaluation Material for the purpose of complying with applicable law,\nregulatory authority or internal recordkeeping procedure and (ii) not be required to destroy, delete, or modify any\nbackup tapes or other media made pursuant to automated archival processes in the ordinary course of business.\n\n        NDA TEXT:\n        MUTUAL NON-DISCLOSURE AGREEMENT\n\n\nThis Mutual Non-Disclosure Agreement (the “Agreement”) is entered into as of _____________ (the “Effective Date”), by and between PSMJ Resources, Inc. (the “Advisor”), as signatory on behalf of PSMJ client # MAS-2304kwR2 with confidentiality code name Emerald (the “Target”) of the Advisor and __________________ (the “Potential Buyer”), in contemplation of discussions relating to a possible business relationship involving a merger, acquisition, financing or investment with/of/in Target (the “Business Purpose”). For purposes of this Agreement, Target and Potential Buyer may each be referred to as a “Party” and collectively, as the “Parties”.                 \n\n 1.\tDEFINITION:  \n\na.\t“Confidential Information” means all information disclosed on or after the Effective Date by or on behalf of either Party or observed while visiting the premises of the other Party, regardless of the form of disclosure (written, oral, photographic, electronic, magnetic, or otherwise) including, without limitation: patent applications, copyrighted works, trade secrets, concepts, designs, techniques, processes, sketches, drawings, models, prototypes, inventions, know-how, apparatuses, equipment, algorithms, software programs, software source documents, formulas, business information, financial data, marketing plans, customer lists, internal memoranda, correspondence and other proprietary information and things.  Confidential information also includes the name of any business or individual who wishes it not be known that they are in discussions with the Parties to explore the possibility of an acquisition.\n\nb.\tConfidential Information does not include information:\ni.\twhich at the time of disclosure is in the public domain and generally known;\nii.\twhich the recipient can show by written records was already in its possession and not subject to an existing agreement of confidentiality between the Parties;\niii.\twhich is independently developed by the recipient as evidenced by its written records;\niv.\twhich is received from a third party, other than a current or former Representative of the disclosing Party, lawfully, without restriction and without breach of this Agreement or any other agreement; or\nv.\twhich is disclosed pursuant to a valid order of a court, regulatory agency or other governmental body; provided, however, that the recipient shall first have given notice to the disclosing Party and made a reasonable effort to obtain a protective order requiring that the Confidential Information be used only for the purposes for which the order was issued and not be further disclosed.\n\nPROTECTION OF WORK AND INFORMATION: \n \nEach Party agrees not to disclose and to take all reasonable steps as may be necessary (including, but not limited to, all steps it customarily takes to protect the confidentiality of its own most confidential information) to protect as confidential any Confidential Information.  Confidential Information shall be disclosed only to those employees, representatives, agents and affiliates and prospective buyers, sellers and/or investors (the “Representatives”) of the Parties who have a need to know such information in connection with the Business Purpose.  Each Party shall advise its respective Representatives that the Confidential Information is and shall be treated as confidential and that by receiving such information such Representatives are agreeing to be bound by this Agreement and not to use such information for any purpose other than described in this Agreement.  Each Party shall be responsible for any improper use of the Confidential Information by its Representatives.\nEach Party shall not use any information relating to the Confidential Information other than in relation to the Business Purpose, or at any time copy information relating to the Confidential Information, except as necessary to further the Business Purpose.\nAll communications with Target shall be directed through Advisor unless otherwise authorized in writing by Advisor. Any attempt to circumvent the Advisor’s relationship with the Target will be actionable at law. The Parties agree that any disputes will be governed by and under the laws of the State of Delaware without regard to its conflict of laws principles.\n\n      3.\t      ACCURACY AND COMPLETENESS:  \n\nEach Party acknowledges that, although it has endeavored to include in the Confidential Information known to it that it believes to be relevant for the purpose of considering a potential business relationship, by this Agreement, it makes no representation or warranty as to the accuracy or completeness of the Confidential Information.  Neither Party shall have any liability to the other Party or its Representatives resulting from any inaccuracy in nor the incomplete nature of Confidential Information supplied under this Agreement.\n\nDESTRUCTION OF MATERIALS:  \n\nUpon written request, the requested Party shall destroy all Confidential Information disclosed to it or its Representatives under this Agreement, in whatever form contained, and whether original or copies, including all notes, memoranda or things created or prepared by the requested Party or its Representatives and containing, based upon, derived from or otherwise reflecting any such Confidential Information, but excluding a single list for historical purposes which identifies the documents and things which were destroyed,  without disclosing the Confidential Information contained in them.  To the extent that any Confidential Information is subject to SEC Rule 17a-4, such information will not be destroyed and will be stored in a confidential manner as described herein. Notwithstanding the foregoing, the Parties and their Representatives shall (i) be permitted to retain copies of the Confidential Information to the extent required to comply with applicable law or regulatory authority or written and established internal document retention policies and (ii) not be required to destroy, delete, or modify any backup tapes or other media pursuant to automated archival processes in our ordinary course of business, provided in each case (i) and (ii) herein, any such Confidential Information retained shall remain subject to the confidentiality obligations of this agreement for so long as such Confidential Information is retained.\nAny information relating to the Confidential Information that is not destroyed, including, without limitation, any oral information, shall remain confidential, subject to the terms and conditions set forth in this Agreement.\n\nGENERAL:\n\nThis is the entire Agreement between the Parties with respect to the use and non-disclosure of the Confidential Information and replaces and supersedes all prior oral and written agreements between the Parties with respect to such use and non-disclosure.\nThere are no representations or covenants, express or implied, other than those set forth in this Agreement.\nThis Agreement may be amended or modified only by a writing signed by both of the Parties.\nNothing contained in this Agreement shall create a joint venture or partnership between the Parties.\nUnless and until a written definitive agreement concerning a business relationship in connection with the Business Purpose has been duly executed, neither Party will have any obligation to the other with respect to any such business relationship whether by virtue of this Agreement or any other written or oral expression with respect to such Business Purpose or otherwise.\nAll Confidential Information disclosed by a Party to the other shall be and shall remain the disclosing Party’s property and nothing in this Agreement shall be construed as a license from either Party to make, use, license, sell, or copy any inventions, ideas, trade secrets, trademarks, copyrightable works, or other property of the other Party, whether or not disclosed under this Agreement.\nIn the event that the Parties do not proceed with any future business relationships in connection with the Business Purpose, each Party specifically covenants not to disclose voluntarily the existence or nature of the discussions between them.\nAdvisor is executing this Agreement on behalf of Target for the purpose of keeping the identity of Target confidential.  Accordingly, the Target shall be deemed party to this Agreement and shall have the right to enforce this Agreement as if it had executed this Agreement.  The rights under this Agreement may not be assigned or duties delegated, without the other Party’s prior written consent.  Any attempted assignment without such consent shall be void.\nDuring the term of this Agreement the Agreement shall be binding upon the Parties and their respective successors and permitted assigns and shall inure to the benefit of the Parties and their respective successors and permitted assigns.\nEach Party understands and agrees that, a breach or threatened breach by the other Party of any of the provisions of this Agreement may give rise to irreparable injury that is not adequately compensable in money damages.  In the event of such breach or threatened breach, each Party may be entitled to seek specific performance and injunctive relief as remedies for any such breach.  This Agreement shall be construed and governed by and under the laws of the State of Delaware without regard to any consideration as to jurisdiction other than the State of Delaware.  \nIf any provision of this Agreement is not enforceable in whole or in part, the remaining provisions of this Agreement shall not be affected.  \nThis Agreement may be executed in one or more counterparts, each of which shall be deemed an original for all purposes, and together shall constitute one and the same document.  Telecopied signatures shall be relied on as original signatures in all respects.\nThe obligations of the Parties hereunder will terminate two (2) years from the date hereof.\n\nEach of the Parties indicates its acceptance of the terms of this Agreement by the signature below of a duly authorized representative.\n\n\n________________________________\t\t\t   \tPSMJ Resources, Inc.\n\t\t\t\t\t\t\t\tOn behalf of Target\n\n\nSignature:________________________\t\t\t\tSignature:____________________________\t\t\t\nBy:    ______________________\t\t\t\tBy:    Karl Wohler\n\nTitle: ______________________\t\t\t\tTitle:  Senior M&A Advisor\t\n\nDate:                    \t      \t\t\t\t\tDate:    \t\t\t\t\t\n\nKarl Wohler\nSenior M&A Lead Advisor\nPSMJ\xa0|\xa0Resources, Inc.\n10 Midland Avenue\nNewton, MA 02458\nCell: 508-341-1370\nkwohler@psmj.com \nwww.psmj.com\t\n\n        YOUR TASK:\n        1. Locate sections in the NDA that correspond to items in our checklist\n        2. COPY-PASTE the EXACT text as it appears in the document\n        3. Create MINIMAL replacement text that incorporates our preferred language\n\n        CRITICAL REQUIREMENTS:\n        - The original_text MUST be an EXACT COPY from the document with no changes\n        - PRESERVE ALL whitespace, line breaks, and punctuation exactly as they appear\n        - Even a single character difference will cause the replacement to fail\n        - Keep your changes CONCISE - modify only what\'s necessary to meet our standards\n        - Test each suggestion by verifying you can find the exact string in the document\n\n        RESPONSE FORMAT:\n        Your response must be a valid JSON object with a "changes" array containing objects with these exact fields:\n        - "original_text": The exactly copied text from the document with no modifications\n        - "new_text": Concise replacement that preserves as much original formatting as possible\n        - "reason": Brief explanation referencing the specific checklist item\n\n        TECHNICAL NOTE: Our text replacement system uses simple string matching. The text you provide as original_text will be searched for in the document and replaced with new_text only if it matches exactly. There is no fuzzy matching or pattern matching capability.\n        '}], 'model': 'gpt-4o', 'response_format': {'type': 'json_object'}, 'temperature': 0.2}}
2025-05-12 13:58:46,399 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-05-12 13:58:46,400 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-05-12 13:58:46,465 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x12266f750>
2025-05-12 13:58:46,465 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x111fd08c0> server_hostname='api.openai.com' timeout=5.0
2025-05-12 13:58:46,490 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x12266f810>
2025-05-12 13:58:46,490 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-05-12 13:58:46,491 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-12 13:58:46,491 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-05-12 13:58:46,491 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-12 13:58:46,492 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-05-12 13:58:52,189 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 12 May 2025 17:58:52 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-pgjra3wefbalevdhg6aag9ro'), (b'openai-processing-ms', b'5468'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'5474'), (b'x-ratelimit-limit-requests', b'500'), (b'x-ratelimit-limit-tokens', b'30000'), (b'x-ratelimit-remaining-requests', b'499'), (b'x-ratelimit-remaining-tokens', b'25989'), (b'x-ratelimit-reset-requests', b'120ms'), (b'x-ratelimit-reset-tokens', b'8.022s'), (b'x-request-id', b'req_00bd9890e6635ef792836578a254bed8'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=0PBIQBYNPTyCIFYnY4fEgsEYeSaSCveQtvT8BAwAHWE-1747072732-1.0.1.1-3lQu.sils7AThAJbO0abdRPyRV.Yw278KKzaTqA7h.6d1.cbrM2..krgiVJ947qHhJBJqQFn4.Z_cibWVVb9x0Y9HAe.TUH0E2w7bWthEzA; path=/; expires=Mon, 12-May-25 18:28:52 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=CBBllsBn23XJXebLOVFuAItvASCXQqPOCRyhFDvrbbk-1747072732079-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'93ebce5ca9c59056-BOS'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-12 13:58:52,192 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-12 13:58:52,193 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-05-12 13:58:52,194 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-05-12 13:58:52,195 - httpcore.http11 - DEBUG - response_closed.started
2025-05-12 13:58:52,195 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-12 13:58:52,196 - openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Mon, 12 May 2025 17:58:52 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-pgjra3wefbalevdhg6aag9ro'), ('openai-processing-ms', '5468'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '5474'), ('x-ratelimit-limit-requests', '500'), ('x-ratelimit-limit-tokens', '30000'), ('x-ratelimit-remaining-requests', '499'), ('x-ratelimit-remaining-tokens', '25989'), ('x-ratelimit-reset-requests', '120ms'), ('x-ratelimit-reset-tokens', '8.022s'), ('x-request-id', 'req_00bd9890e6635ef792836578a254bed8'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=0PBIQBYNPTyCIFYnY4fEgsEYeSaSCveQtvT8BAwAHWE-1747072732-1.0.1.1-3lQu.sils7AThAJbO0abdRPyRV.Yw278KKzaTqA7h.6d1.cbrM2..krgiVJ947qHhJBJqQFn4.Z_cibWVVb9x0Y9HAe.TUH0E2w7bWthEzA; path=/; expires=Mon, 12-May-25 18:28:52 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=CBBllsBn23XJXebLOVFuAItvASCXQqPOCRyhFDvrbbk-1747072732079-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '93ebce5ca9c59056-BOS'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-05-12 13:58:52,196 - openai._base_client - DEBUG - request_id: req_00bd9890e6635ef792836578a254bed8
2025-05-12 13:58:52,201 - application - INFO - OpenAI response received (JSON mode). Content length: 1913
2025-05-12 13:58:52,201 - application - DEBUG - Raw JSON response content: {
    "changes": [
        {
            "original_text": "Upon written request, the requested Party shall destroy all Confidential Information disclosed to it or its Representatives under this Agreement, in whatever form contained, and whether original or copies, including all notes, memoranda or things created or prepared by the requested Party or its Representatives and containing, based upon, derived from or otherwise reflecting any such Confidential Information, but excluding a single list ...
2025-05-12 13:58:52,202 - application - INFO - Successfully parsed JSON from OpenAI response
2025-05-12 13:58:52,202 - application - INFO - Returning 2 valid changes.
2025-05-12 13:58:52,207 - advanced_redliner - INFO - Processing 2 changes
2025-05-12 13:58:52,208 - advanced_redliner - INFO - Change 1: dict_keys(['original_text', 'new_text', 'reason'])
2025-05-12 13:58:52,208 - advanced_redliner - INFO - Change 2: dict_keys(['original_text', 'new_text', 'reason'])
2025-05-12 13:58:52,208 - advanced_redliner - INFO - Original text: Upon written request, the requested Party shall de...
2025-05-12 13:58:52,209 - advanced_redliner - INFO - New text: Upon written request, the requested Party shall de...
2025-05-12 13:58:52,209 - advanced_redliner - INFO - Original text: The obligations of the Parties hereunder will term...
2025-05-12 13:58:52,209 - advanced_redliner - INFO - New text: The obligations of the Parties hereunder will term...
2025-05-12 13:58:52,209 - advanced_redliner - INFO - Normalized 2 changes for processing
2025-05-12 13:58:52,227 - advanced_redliner - INFO - Extracted 48 text elements for matching
2025-05-12 13:58:52,228 - advanced_redliner - INFO - Applied change to paragraph - replaced: Upon written request, the requ... with: Upon written request, the requ...
2025-05-12 13:58:52,228 - advanced_redliner - INFO - Applied change to paragraph - replaced: The obligations of the Parties... with: The obligations of the Parties...
2025-05-12 13:58:52,229 - advanced_redliner - INFO - Successfully applied changes to the document
2025-05-12 13:58:52,236 - advanced_redliner - INFO - Using pre-extracted binary at /Users/matt/Documents/Projects/nda-redline-api/bin/redlines
2025-05-12 13:58:52,838 - application - INFO - Initialized processed_docs in application config
2025-05-12 13:58:52,839 - application - INFO - Stored document redlined_nda_4d311c56.docx in memory, size: 53077 bytes
2025-05-12 14:00:13,834 - application - INFO - Attempting to download file: redlined_nda_4d311c56.docx
2025-05-12 14:00:13,836 - application - INFO - Available processed documents: ['redlined_nda_4d311c56.docx']
2025-05-12 14:00:13,836 - application - INFO - Retrieved document bytes, size: 53077
2025-05-12 14:00:13,837 - application - INFO - Sending file for download
[2025-05-12 14:01:38 -0400] [40898] [INFO] Handling signal: term
[2025-05-12 14:01:38 -0400] [40900] [INFO] Worker exiting (pid: 40900)
2025-05-12 14:01:38,080 - httpcore.connection - DEBUG - close.started
2025-05-12 14:01:38,081 - httpcore.connection - DEBUG - close.complete
[2025-05-12 14:01:38 -0400] [40898] [INFO] Shutting down: Master
